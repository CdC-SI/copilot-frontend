<div class="pd5">
	<mat-accordion>
		<!-- FAQ Administration -->
		<mat-expansion-panel togglePosition="after">
			<mat-expansion-panel-header>
				<mat-panel-title>{{ "admin.manage.faq" | translate }}</mat-panel-title>
				<mat-panel-description>{{ "admin.manage.faq.description" | translate }}</mat-panel-description>
			</mat-expansion-panel-header>

			<form [formGroup]="addFaqItemFormGrp">
				<h4 class="mb16">{{ "add.question.answer" | translate }}</h4>
				<mat-card class="mat-elevation-z2">
					<mat-card-content>
						<zco-faq-item-edit formControlName="faqItem"></zco-faq-item-edit>
					</mat-card-content>
					<mat-card-actions>
						<button mat-button [obButton]="'primary'" (click)="submitFAQItem()" [disabled]="!addFaqItemFormGrp.valid">
							<mat-icon svgIcon="checkmark"></mat-icon>
							{{ "add" | translate }}
						</button>
					</mat-card-actions>
				</mat-card>
			</form>
		</mat-expansion-panel>

		<!-- Users Administration -->
		<mat-expansion-panel>
			<mat-expansion-panel-header>
				<mat-panel-title>{{ "admin.manage.users" | translate }}</mat-panel-title>
				<mat-panel-description>{{ "admin.manage.users.description" | translate }}</mat-panel-description>
			</mat-expansion-panel-header>

			<table mat-table class="ob-table" matSort [matSortActive]="defaultSort.active" [matSortDirection]="defaultSort.direction" [dataSource]="usersDataSource">
				<caption>
					{{
						"admin.manage.users.list" | translate
					}}
				</caption>
				<ng-container matColumnDef="firstName">
					<th mat-header-cell *matHeaderCellDef mat-sort-header scope="col">{{ "user.firstName" | translate }}</th>
					<td mat-cell *matCellDef="let user">{{ user.firstName }}</td>
				</ng-container>
				<ng-container matColumnDef="lastName">
					<th mat-header-cell *matHeaderCellDef mat-sort-header scope="col">{{ "user.lastName" | translate }}</th>
					<td mat-cell *matCellDef="let user">{{ user.lastName }}</td>
				</ng-container>
				<ng-container matColumnDef="status">
					<th mat-header-cell *matHeaderCellDef mat-sort-header scope="col">{{ "user.status" | translate }}</th>
					<td mat-cell *matCellDef="let user">{{ user.status | translate }}</td>
				</ng-container>
				<ng-container matColumnDef="roles">
					<th mat-header-cell *matHeaderCellDef mat-sort-header scope="col">{{ "user.roles" | translate }}</th>
					<td mat-cell *matCellDef="let user">{{ user.roles }}</td>
				</ng-container>
				<ng-container matColumnDef="internal">
					<th mat-header-cell *matHeaderCellDef mat-sort-header scope="col">{{ "user.internal" | translate }}</th>
					<td mat-cell *matCellDef="let user">{{ (user.internalUser ? "yes" : "no") | translate }}</td>
				</ng-container>
				<ng-container matColumnDef="actions">
					<th mat-header-cell *matHeaderCellDef scope="col">{{ "user.actions" | translate }}</th>
					<td mat-cell *matCellDef="let user">
						<button *ngFor="let action of user.actions" mat-icon-button [matTooltip]="action.tooltip | translate" (click)="onAction(action.id, user)">
							<mat-icon [svgIcon]="action.icon"></mat-icon>
						</button>
					</td>
				</ng-container>
				<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
				<tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
			</table>
			<mat-paginator [pageSizeOptions]="[10, 25, 50]" [length]="resultsLength" [pageSize]="pageSize" aria-label="Select page of users"></mat-paginator>
		</mat-expansion-panel>

		<!-- Upload embedded documents -->
		<mat-expansion-panel>
			<mat-expansion-panel-header>
				<mat-panel-title>{{ "admin.manage.documents" | translate }}</mat-panel-title>
				<mat-panel-description>{{ "admin.manage.documents.description" | translate }}</mat-panel-description>
			</mat-expansion-panel-header>

			<ob-file-upload [accept]="['.pdf', '.csv']" [maxFileSize]="10" (uploadEvent)="uploadAdminDocument($event)"></ob-file-upload>
			<ul>
				<li *ngFor="let doc of documentsToUpload">
					<div class="doc-to-upload">
						{{ doc.fileName }} ({{ doc.fileSize | number: "1.0-0" }} KB)
						<button mat-icon-button type="button" [obButton]="'secondary'" (click)="removeDocument(doc)">
							<mat-icon svgIcon="trash"></mat-icon>
						</button>
					</div>
				</li>
			</ul>
			<button mat-button [obButton]="'primary'" (click)="uploadDocuments()" [disabled]="!documentsToUpload.length">
				<mat-icon svgIcon="upload"></mat-icon>
				{{ "upload" | translate }}
			</button>
		</mat-expansion-panel>
	</mat-accordion>
</div>
